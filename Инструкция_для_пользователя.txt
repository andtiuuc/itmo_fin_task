-------------------------------------------------------------------------------------------------------------------------

# Описание программы
Программа представляет собой код на языке Python. Код связывается с базой данных фермерских рынков farmers_markets.
Программа позволяет делать ряд определенных запросов к базе данных и получать информацию о рынках из базы данных.

# Описание базы данных
База данных farmers_markets создана в с помощью PostgreSQL на основе файла Export.csv. 
Исходная таблица приведена к третьей нормальной форме. 
Схема базы данных представлена на рисунке схема_farmers_markets.png.

-------------------------------------------------------------------------------------------------------------------------

# Для запуска и работы программы следуйте инструкциям по установке

-------------------------------------------------------------------------------------------------------------------------

# Установка базы данных 

Для установки и работы с базой данных на Вашем ПК должен быть установлен PostgreSQL.
Путь [ваш путь]\PostgreSQL\17\bin должен быть добавлен в PATH.

Для развертывания на Вашем ПК базы данных создана резервная копия базы данных farmers_markets_dump.sql.
Создание и заполнение базы данных автоматизировано через скрипт в файле restore_farmers_markets.bat.

Чтобы развернуть и заполнить базу данных выполните следующие действия:
1. Положите в удобную для Вас папку файлы farmers_markets_dump.sql и restore_farmers_markets.bat;
2. Запустите файл restore_farmers_markets.bat и следуйте инструкциям в запустившейся консоли
   (скрипт потребует ввести имя пользователя PostgreSQL, затем указать дирректорию к резервной копии farmers_markets_dump.sql,
   затем ввести пароль пользователя PostgreSQL);
3. Проверьте в pgAdmin4 наличие базы данных farmers_markets и таблиц (markets, marketproducts и т.д.)
   или
   используйте альтернативный способ проверить базу данных:
   откройте консоль, введите psql -U [имя пользователя] -d farmers_markets,
   затем введите следующий код:
   ----------
   SELECT marketid, name, street, city, county, state
   FROM public.markets
   ORDER BY marketid
   LIMIT 25;
   ----------
   Если база данных установлена успешно, то команда выведет таблицу.
   
-------------------------------------------------------------------------------------------------------------------------

# Запуск программы 

Для работы требуется версия Python 3.12 или более поздняя.
Для Python должен быть установлен модуль psycopg.

Программа для работы с базой данных farmers_markets запускается из файла farmers_markets_analysis.py.
Для запуска файла можно использовать удобную для Вас среду разработки (Spyder, PyCharm и др.) 
или запустить командную строку и ввести следующую команду: python "[ваш путь]\farmers_markets_analysis.py".

-------------------------------------------------------------------------------------------------------------------------

# Возможности программы

Программа предлагает выполнять следующие функции:

1. Подробная информация о рынке 

   - принимает полное или частичное название рынка (Sitka Farmers Market, Sit, tka, и т.д.)  или полный FMID (1003169, 
   1019829, и др.), выводит список рынков по совпадению, принимает номер рынка из выпавшего списка, выводит подробную 
   информацию о рынке;

2. Поиск по штату

   - принимает полное название штата (Minnesota, Alabama, Idaho и др.) и выводит список рынков в указанном штате 
   с короткой информацией о каждом рынке; 

3. Поиск по почтовому индексу

   - принимает полный почтовый индекс рынка (53818, 37915, 48111 и др.) и выводит список рынков с данным индексом 
   и короткую информацию о каждом рынке; 

4. Поиск по городу

   - принимает полное или частичное название города (Beaver Dam, Beav, Dam и т.д.) и выводит список рынков в указанном 
   городе с короткой информацией о каждом рынке; 

5. Сортировка по ID

   - сортирует рынки по FMID в порядке возрастания, выводит первые 50 рынков в качестве примера;

6. Сортировка по имени

   - сортирует рынки по названию в алфавитном порядке, выводит первые 50 рынков в качестве примера;

7. Сортировка по городу

   - сортирует рынки по городу в алфавитном порядке, выводит первые 50 рынков в качестве примера;

8. Сортировка по штату

   - сортирует рынки по штату в алфавитном порядке, выводит первые 50 рынков в качестве примера;

9. Поиск рынков по сезону работы

   - предлагает выбрать сезон и выводит список рынков, работающих в указанный сезон;

10. Поиск рынков по продуктам

   - выводит список всех продуктов в базе данных и предлагает выбрать продукт, затем выводит список рынков, где доступен;
   указанный продукт

11. Выход

   - завершает работу программы.

-------------------------------------------------------------------------------------------------------------------------